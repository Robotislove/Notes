# H.265与H.264区别技术分析

H.265与H.264有何不同：同等画质体积仅为一半、带宽占用省一半、画质更细腻等诸多优势。

## H.264
H.264也称作MPEG-4 AVC(Advanced Video Codeing，高级视频编码)
H.264是一种视频压缩标准，同时也是一种被广泛使用的高精度视频的录制、压缩和发布格式。H.264因其是蓝光光盘的一种编解码标准而着名，所有蓝光播放器都必须能解码H.264。

H.264相较于以前的编码标准有着一些新特性，如多参考帧的运动补偿、变块尺寸运动补偿、帧内预测编码等，通过利用这些新特性，H.264比其他编码标准有着更高的视频质量和更低的码率。

## H.265/HEVC（High Efficiency Video Coding，高效率视频编码）
H.265的编码架构大致上和H.264/AVC的架构相似，也主要包含：帧内预测(intra prediction)、帧间预测(inter prediction)、变换 (transform)、量化 (quantization)、去区块滤波器(deblocking filter)、熵编码(entropy coding)等模块。

但在HEVC编码架构中，整体被分为了三个基本单位，分别是：编码单位(coding unit，CU)、预测单位(predict unit，PU) 和转换单位(transform unit，TU)。

H.265是新的编码协议，也即是H.264的升级版。  
压缩率对比：H.265压缩率更高、流量省一半。  

相对于H.264, H.265最大的优势是就拥有高的压缩率。这一点从H.265命名就可以看出，H.265又名HEVC，其最主要的用途就是要进一步降低影片所需的流量，以降低储存与传输的成本。以H.265在27项提案中最重要3项为例，H.265要求在最佳的编码模板（profile）中，能在维持相同PSNR的前提下，节省以H.264压缩的1080P影片36%左右的数据量，并且能在影像质量差不多时，将节省的幅度进一步提升到50%。因此，为了实现这个目标，H.265比H.264采用了更先进、更灵活的编码单元。

以往H.264会以16 x 16像素为单位（或是16 x 8、8 x 8、8 x 4、4 x 4等配置），将画面切割为数个大小相同的巨区块，并以这些巨区块做为编码时的最小元素。H.265则是将切割画面的工作从使用者手动设定，转交给编码器来决定，让编码器可视情况以16x 16、32 x 32、64 x 64等尺寸，将画面切割为数个编码树单元，一般来说区块尺寸越大，压缩效率就会越好。正是通过一系列的优化，H.265的视频编码压缩技术能够让相同的的画面及质量的电影文件容量大小缩减一半，所需耗时下载的时间也能缩减一半，为有限的网络带宽提供了更完美的视频压缩解决方案。

## 更低的传输码率
同等图像质量下，H.265数据量只有MPEG2的1/16，MPEG4的1/6，H.264的1/2。  
画质对比：H.265比 H.264人物皮肤更细腻。  

也许你会认为，H.265既然压缩率高了，画质肯定有所损失。但在H.264等编码技术中，各巨区块间的数据彼此完全独立、没有相依性，于是很容易受编码过程中产生的失真影响，在巨区块的边界区域产生噪声，导致将所有巨区块组合成完整画面时，发生图像无法完全合并的状况。而H.265引了一个Deblocking filter功能，Deblocking filter在运作时会侦测临近巨区块的数据，重新建立巨区块间之数据依赖性，尽量将边缘区域平滑化，提高整体图像质量。

在相同码率的情况下画面,细节表现方面，与原H.264编码格式相比，H.265清晰度还有所提升，特别是在人面部细节表现方面，清晰度更高。

## H.265的高明之处
从编码框架上来说，H.265仍然沿用了H.264的混合编码框架，但是每个技术细节都有提升或改进。比较大的改进是：
1. 在图像分块以及运动补偿、变换方面，支持更大尺寸和种类
2. 更多帧内/帧间预测、运动矢量预测和变换模式
3. 增加环内采样自适应滤波SAO
4. 提供TILE模式，更好地支持并行处理等。这些新技术的应用，不但有效地提高压缩性能，也为各种处理器平台的有效实现扩展了空间
